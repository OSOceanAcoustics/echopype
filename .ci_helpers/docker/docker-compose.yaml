# For local development only to spin up services to test against
version: "3"
services:
  minio:
    build:
      context: ../../.ci_helpers/docker
      dockerfile: ./minioci.dockerfile
    image: cormorack/minioci:latest
    ports:
      - 9000:9000
    networks:
      - echopypenetwork
  httpserver:
    build:
      context: ../../.ci_helpers/docker
      dockerfile: ./http-ep.dockerfile
    image: cormorack/http-ep:latest
    ports:
      - 8080:80
    environment:
      - GOOGLE_SERVICE_JSON=${GOOGLE_SERVICE_JSON}
      - TEST_DATA_FOLDER_ID=${TEST_DATA_FOLDER_ID}
    networks:
      - echopypenetwork

networks:
  echopypenetwork:
      