{%- if echodata.converted_raw_path -%}
{%- set file_path = echodata.converted_raw_path -%}
{%- else -%}
{%- set file_path = "Internal Memory" -%}
{%- endif -%}
<div>
    <div class='xr-header'>
        <div class="xr-obj-type">EchoData: standardized raw data from {{file_path}}</div>
    </div>
    <ul class="xr-sections group-sections">
        <li class="xr-section-list">
            <input id="idata_root" class="xr-section-summary-in" type="checkbox">
            <label for="idata_root" class="xr-section-summary">{{ echodata._tree|node_repr }}</label>
            <div class="xr-section-inline-details"></div>
            <div class="xr-section-details">
                <ul id="xr-dataset-coord-list" class="xr-var-list">
                    <div style="padding-left:2rem;">{{echodata._tree.ds|html_repr}}<br></div>
                </ul>
            </div>
        </li>
        <ul>
            {%- for node in echodata._tree.children recursive -%}
                <li class="xr-section-list">
                    <input id="idata_{{node.name}}" class="xr-section-summary-in" type="checkbox">
                    <label for="idata_{{node.name}}" class="xr-section-summary">{{ node|node_repr }}</label>
                    <div class="xr-section-inline-details"></div>
                    <div class="xr-section-details">
                        <ul id="xr-dataset-coord-list" class="xr-var-list">
                            <div style="padding-left:2rem;">{{node.ds|html_repr}}<br></div>
                        </ul>
                    </div>
                {%- if node.children -%}
                    <ul>{{ loop(node.children) }}</ul>
                {%- endif %}</li>
            {%- endfor -%}
        </ul>
    </ul>
</div>
{%- include 'style.html.j2' -%}
